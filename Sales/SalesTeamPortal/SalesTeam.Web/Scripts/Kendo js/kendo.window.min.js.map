{"version":3,"sources":["kendo.window.js"],"names":["f","define","$","undefined","defined","x","constrain","value","low","high","Math","max","min","parseInt","Infinity","executableScript","this","type","toLowerCase","indexOf","WindowResizing","wnd","that","owner","_preventDragging","_draggable","Draggable","wrapper","filter","KWINDOWRESIZEHANDLES","group","id","dragstart","proxy","drag","dragend","userEvents","bind","addOverlay","removeOverlay","WindowDragging","dragHandle","dragcancel","stopPropagation","kendo","window","Widget","ui","isPlainObject","activeElement","_activeElement","extend","each","template","BODY","NS","KWINDOW","KWINDOWTITLE","KWINDOWTITLEBAR","KWINDOWCONTENT","KOVERLAY","KCONTENTFRAME","LOADING","KHOVERSTATE","KFOCUSEDSTATE","MAXIMIZEDSTATE","VISIBLE","HIDDEN","CURSOR","OPEN","ACTIVATE","DEACTIVATE","CLOSE","REFRESH","MINIMIZE","MAXIMIZE","RESIZESTART","RESIZE","RESIZEEND","DRAGSTART","DRAGEND","ERROR","OVERFLOW","ZINDEX","MINIMIZE_MAXIMIZE","KPIN","KUNPIN","PIN_UNPIN","TITLEBAR_BUTTONS","REFRESHICON","isLocalUrl","Window","init","element","options","visibility","display","position","content","windowContent","offset","isVisible","suppressActions","actions","length","fn","call","appendTo","url","find","remove","parent","is","top","left","css","visible","closest","addClass","_createWindow","_dimensions","_position","pinned","pin","refresh","toFront","children","_tabindex","modal","_overlay","opacity","on","_buttonEnter","_buttonLeave","_windowActionHandler","_keydown","_focus","_blur","_resizable","attr","role","aria-labelledby","add","touchScroller","_resizeHandler","_onDocumentResize","_marker","guid","substring","trigger","notify","e","currentTarget","removeClass","i","width","height","maxHeight","dimensions","title","minWidth","maxWidth","minHeight","hide","_animationOptions","animation","basicAnimation","open","effects","close","_resize","resize","resizable","resizing","off","destroy","target","toggleMaximization","split","index","handler","append","templates","resizeHandle","draggable","dragging","_actions","titlebar","container","map","action","name","html","render","setOptions","scrollable","restore","events","zoom","direction","fade","duration","properties","scale","autoFocus","isMaximized","isMinimized","_closable","inArray","handled","newWidth","newHeight","w","h","keys","keyCode","distance","_closing","ESC","_close","ctrlKey","getOffset","UP","DOWN","LEFT","RIGHT","isNaN","preventDefault","overlay","insertBefore","toggle","_actionForIcon","icon","iconClass","exec","className","k-i-close","k-i-maximize","k-i-minimize","k-i-restore","k-i-refresh","k-i-pin","k-i-unpin","_modals","zStack","dom","object","_object","sort","a","b","widget","widgetInstance","center","newTop","newLeft","documentWindow","scrollTop","scrollLeft","text","titleBarHeight","titleBar","arguments","prepend","outerHeight","data","scrollContainer","angular","elements","empty","push","dataItem","otherModalsVisible","overlayFx","showOptions","contentElement","doc","document","kendoStop","focus","Fade","fx","fadeIn","endValue","play","show","kendoAnimate","complete","_activate","_documentScrollTop","_documentScrollLeft","_removeOverlay","suppressAnimation","modals","hideOverlay","hideOptions","fadeOut","startValue","last","systemTriggered","userTriggered","reverse","_deactivate","lastModal","_actionable","_shouldFocus","active","windowTop","currentWindow","zIndex","originalZIndex","windowObject","zIndexNew","style","restoreOptions","end","_sizingAction","actionId","callback","eq","before","maximize","minimize","force","win","unpin","zoomLevel","support","iframe","showIframe","initOptions","src","contentFrame","unbind","_triggerRefresh","_ajaxRequest","toggleClass","_ajaxComplete","clearTimeout","_loadingIconTimeout","_ajaxError","xhr","status","_ajaxSuccess","contentTemplate","prop","_showLoading","setTimeout","ajax","dataType","cache","error","success","_destroy","iframeSrcAttributes","contentHtml","isRtl","getAttribute","outerWidth","editor","prototype","elementPadding","initialPosition","resizeDirection","replace","initialSize","containerOffset","not","windowBottom","windowRight","y","newWindowTop","location","reset","initialWindowPosition","initialPointerPosition","client","startPosition","minLeftPosition","minTopPosition","transforms","_finishDrag","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.window.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.window', ['kendo.draganddrop'], f);\n}(function () {\n    var __meta__ = {\n        id: 'window',\n        name: 'Window',\n        category: 'web',\n        description: 'The Window widget displays content in a modal or non-modal HTML window.',\n        depends: ['draganddrop']\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, Widget = kendo.ui.Widget, Draggable = kendo.ui.Draggable, isPlainObject = $.isPlainObject, activeElement = kendo._activeElement, proxy = $.proxy, extend = $.extend, each = $.each, template = kendo.template, BODY = 'body', templates, NS = '.kendoWindow', KWINDOW = '.k-window', KWINDOWTITLE = '.k-window-title', KWINDOWTITLEBAR = KWINDOWTITLE + 'bar', KWINDOWCONTENT = '.k-window-content', KWINDOWRESIZEHANDLES = '.k-resize-handle', KOVERLAY = '.k-overlay', KCONTENTFRAME = 'k-content-frame', LOADING = 'k-i-loading', KHOVERSTATE = 'k-state-hover', KFOCUSEDSTATE = 'k-state-focused', MAXIMIZEDSTATE = 'k-window-maximized', VISIBLE = ':visible', HIDDEN = 'hidden', CURSOR = 'cursor', OPEN = 'open', ACTIVATE = 'activate', DEACTIVATE = 'deactivate', CLOSE = 'close', REFRESH = 'refresh', MINIMIZE = 'minimize', MAXIMIZE = 'maximize', RESIZESTART = 'resizeStart', RESIZE = 'resize', RESIZEEND = 'resizeEnd', DRAGSTART = 'dragstart', DRAGEND = 'dragend', ERROR = 'error', OVERFLOW = 'overflow', ZINDEX = 'zIndex', MINIMIZE_MAXIMIZE = '.k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize', KPIN = '.k-i-pin', KUNPIN = '.k-i-unpin', PIN_UNPIN = KPIN + ',' + KUNPIN, TITLEBAR_BUTTONS = '.k-window-titlebar .k-window-action', REFRESHICON = '.k-window-titlebar .k-i-refresh', isLocalUrl = kendo.isLocalUrl;\n        function defined(x) {\n            return typeof x != 'undefined';\n        }\n        function constrain(value, low, high) {\n            return Math.max(Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)), parseInt(low, 10));\n        }\n        function executableScript() {\n            return !this.type || this.type.toLowerCase().indexOf('script') >= 0;\n        }\n        var Window = Widget.extend({\n            init: function (element, options) {\n                var that = this, wrapper, offset = {}, visibility, display, position, isVisible = false, content, windowContent, suppressActions = options && options.actions && !options.actions.length, id;\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                position = options.position;\n                element = that.element;\n                content = options.content;\n                if (suppressActions) {\n                    options.actions = [];\n                }\n                that.appendTo = $(options.appendTo);\n                if (content && !isPlainObject(content)) {\n                    content = options.content = { url: content };\n                }\n                element.find('script').filter(executableScript).remove();\n                if (!element.parent().is(that.appendTo) && (position.top === undefined || position.left === undefined)) {\n                    if (element.is(VISIBLE)) {\n                        offset = element.offset();\n                        isVisible = true;\n                    } else {\n                        visibility = element.css('visibility');\n                        display = element.css('display');\n                        element.css({\n                            visibility: HIDDEN,\n                            display: ''\n                        });\n                        offset = element.offset();\n                        element.css({\n                            visibility: visibility,\n                            display: display\n                        });\n                    }\n                    if (position.top === undefined) {\n                        position.top = offset.top;\n                    }\n                    if (position.left === undefined) {\n                        position.left = offset.left;\n                    }\n                }\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n                wrapper = that.wrapper = element.closest(KWINDOW);\n                if (!element.is('.k-content') || !wrapper[0]) {\n                    element.addClass('k-window-content k-content');\n                    that._createWindow(element, options);\n                    wrapper = that.wrapper = element.closest(KWINDOW);\n                    that._dimensions();\n                }\n                that._position();\n                if (options.pinned) {\n                    that.pin(true);\n                }\n                if (content) {\n                    that.refresh(content);\n                }\n                if (options.visible) {\n                    that.toFront();\n                }\n                windowContent = wrapper.children(KWINDOWCONTENT);\n                that._tabindex(windowContent);\n                if (options.visible && options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                }\n                wrapper.on('mouseenter' + NS, TITLEBAR_BUTTONS, proxy(that._buttonEnter, that)).on('mouseleave' + NS, TITLEBAR_BUTTONS, proxy(that._buttonLeave, that)).on('click' + NS, '> ' + TITLEBAR_BUTTONS, proxy(that._windowActionHandler, that));\n                windowContent.on('keydown' + NS, proxy(that._keydown, that)).on('focus' + NS, proxy(that._focus, that)).on('blur' + NS, proxy(that._blur, that));\n                this._resizable();\n                this._draggable();\n                id = element.attr('id');\n                if (id) {\n                    id = id + '_wnd_title';\n                    wrapper.children(KWINDOWTITLEBAR).children(KWINDOWTITLE).attr('id', id);\n                    windowContent.attr({\n                        'role': 'dialog',\n                        'aria-labelledby': id\n                    });\n                }\n                wrapper.add(wrapper.children('.k-resize-handle,' + KWINDOWTITLEBAR)).on('mousedown' + NS, proxy(that.toFront, that));\n                that.touchScroller = kendo.touchScroller(element);\n                that._resizeHandler = proxy(that._onDocumentResize, that);\n                that._marker = kendo.guid().substring(0, 8);\n                $(window).on('resize' + NS + that._marker, that._resizeHandler);\n                if (options.visible) {\n                    that.trigger(OPEN);\n                    that.trigger(ACTIVATE);\n                }\n                kendo.notify(that);\n            },\n            _buttonEnter: function (e) {\n                $(e.currentTarget).addClass(KHOVERSTATE);\n            },\n            _buttonLeave: function (e) {\n                $(e.currentTarget).removeClass(KHOVERSTATE);\n            },\n            _focus: function () {\n                this.wrapper.addClass(KFOCUSEDSTATE);\n            },\n            _blur: function () {\n                this.wrapper.removeClass(KFOCUSEDSTATE);\n            },\n            _dimensions: function () {\n                var wrapper = this.wrapper;\n                var options = this.options;\n                var width = options.width;\n                var height = options.height;\n                var maxHeight = options.maxHeight;\n                var dimensions = [\n                    'minWidth',\n                    'minHeight',\n                    'maxWidth',\n                    'maxHeight'\n                ];\n                this.title(options.title);\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]] || '';\n                    if (value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n                if (maxHeight != Infinity) {\n                    this.element.css('maxHeight', maxHeight);\n                }\n                if (width) {\n                    if (width.toString().indexOf('%') > 0) {\n                        wrapper.width(width);\n                    } else {\n                        wrapper.width(constrain(width, options.minWidth, options.maxWidth));\n                    }\n                } else {\n                    wrapper.width('');\n                }\n                if (height) {\n                    if (height.toString().indexOf('%') > 0) {\n                        wrapper.height(height);\n                    } else {\n                        wrapper.height(constrain(height, options.minHeight, options.maxHeight));\n                    }\n                } else {\n                    wrapper.height('');\n                }\n                if (!options.visible) {\n                    wrapper.hide();\n                }\n            },\n            _position: function () {\n                var wrapper = this.wrapper, position = this.options.position;\n                if (position.top === 0) {\n                    position.top = position.top.toString();\n                }\n                if (position.left === 0) {\n                    position.left = position.left.toString();\n                }\n                wrapper.css({\n                    top: position.top || '',\n                    left: position.left || ''\n                });\n            },\n            _animationOptions: function (id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: {\n                        hide: true,\n                        effects: {}\n                    }\n                };\n                return animation && animation[id] || basicAnimation[id];\n            },\n            _resize: function () {\n                kendo.resize(this.element.children());\n            },\n            _resizable: function () {\n                var resizable = this.options.resizable;\n                var wrapper = this.wrapper;\n                if (this.resizing) {\n                    wrapper.off('dblclick' + NS).children(KWINDOWRESIZEHANDLES).remove();\n                    this.resizing.destroy();\n                    this.resizing = null;\n                }\n                if (resizable) {\n                    wrapper.on('dblclick' + NS, KWINDOWTITLEBAR, proxy(function (e) {\n                        if (!$(e.target).closest('.k-window-action').length) {\n                            this.toggleMaximization();\n                        }\n                    }, this));\n                    each('n e s w se sw ne nw'.split(' '), function (index, handler) {\n                        wrapper.append(templates.resizeHandle(handler));\n                    });\n                    this.resizing = new WindowResizing(this);\n                }\n                wrapper = null;\n            },\n            _draggable: function () {\n                var draggable = this.options.draggable;\n                if (this.dragging) {\n                    this.dragging.destroy();\n                    this.dragging = null;\n                }\n                if (draggable) {\n                    this.dragging = new WindowDragging(this, draggable.dragHandle || KWINDOWTITLEBAR);\n                }\n            },\n            _actions: function () {\n                var actions = this.options.actions;\n                var titlebar = this.wrapper.children(KWINDOWTITLEBAR);\n                var container = titlebar.find('.k-window-actions');\n                actions = $.map(actions, function (action) {\n                    return { name: action };\n                });\n                container.html(kendo.render(templates.action, actions));\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                var scrollable = this.options.scrollable !== false;\n                this.restore();\n                this._dimensions();\n                this._position();\n                this._resizable();\n                this._draggable();\n                this._actions();\n                if (typeof options.modal !== 'undefined') {\n                    var visible = this.options.visible !== false;\n                    this._overlay(options.modal && visible);\n                }\n                this.element.css(OVERFLOW, scrollable ? '' : 'hidden');\n            },\n            events: [\n                OPEN,\n                ACTIVATE,\n                DEACTIVATE,\n                CLOSE,\n                MINIMIZE,\n                MAXIMIZE,\n                REFRESH,\n                RESIZESTART,\n                RESIZE,\n                RESIZEEND,\n                DRAGSTART,\n                DRAGEND,\n                ERROR\n            ],\n            options: {\n                name: 'Window',\n                animation: {\n                    open: {\n                        effects: {\n                            zoom: { direction: 'in' },\n                            fade: { direction: 'in' }\n                        },\n                        duration: 350\n                    },\n                    close: {\n                        effects: {\n                            zoom: {\n                                direction: 'out',\n                                properties: { scale: 0.7 }\n                            },\n                            fade: { direction: 'out' }\n                        },\n                        duration: 350,\n                        hide: true\n                    }\n                },\n                title: '',\n                actions: ['Close'],\n                autoFocus: true,\n                modal: false,\n                resizable: true,\n                draggable: true,\n                minWidth: 90,\n                minHeight: 50,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                pinned: false,\n                scrollable: true,\n                position: {},\n                content: null,\n                visible: null,\n                height: null,\n                width: null,\n                appendTo: 'body',\n                isMaximized: false,\n                isMinimized: false\n            },\n            _closable: function () {\n                return $.inArray('close', $.map(this.options.actions, function (x) {\n                    return x.toLowerCase();\n                })) > -1;\n            },\n            _keydown: function (e) {\n                var that = this, options = that.options, keys = kendo.keys, keyCode = e.keyCode, wrapper = that.wrapper, offset, handled, distance = 10, isMaximized = that.options.isMaximized, newWidth, newHeight, w, h;\n                if (e.target != e.currentTarget || that._closing) {\n                    return;\n                }\n                if (keyCode == keys.ESC && that._closable()) {\n                    that._close(false);\n                }\n                if (options.draggable && !e.ctrlKey && !isMaximized) {\n                    offset = kendo.getOffset(wrapper);\n                    if (keyCode == keys.UP) {\n                        handled = wrapper.css('top', offset.top - distance);\n                    } else if (keyCode == keys.DOWN) {\n                        handled = wrapper.css('top', offset.top + distance);\n                    } else if (keyCode == keys.LEFT) {\n                        handled = wrapper.css('left', offset.left - distance);\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = wrapper.css('left', offset.left + distance);\n                    }\n                }\n                if (options.resizable && e.ctrlKey && !isMaximized) {\n                    if (keyCode == keys.UP) {\n                        handled = true;\n                        newHeight = wrapper.height() - distance;\n                    } else if (keyCode == keys.DOWN) {\n                        handled = true;\n                        newHeight = wrapper.height() + distance;\n                    }\n                    if (keyCode == keys.LEFT) {\n                        handled = true;\n                        newWidth = wrapper.width() - distance;\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = true;\n                        newWidth = wrapper.width() + distance;\n                    }\n                    if (handled) {\n                        w = constrain(newWidth, options.minWidth, options.maxWidth);\n                        h = constrain(newHeight, options.minHeight, options.maxHeight);\n                        if (!isNaN(w)) {\n                            wrapper.width(w);\n                            that.options.width = w + 'px';\n                        }\n                        if (!isNaN(h)) {\n                            wrapper.height(h);\n                            that.options.height = h + 'px';\n                        }\n                        that.resize();\n                    }\n                }\n                if (handled) {\n                    e.preventDefault();\n                }\n            },\n            _overlay: function (visible) {\n                var overlay = this.appendTo.children(KOVERLAY), wrapper = this.wrapper;\n                if (!overlay.length) {\n                    overlay = $('<div class=\\'k-overlay\\' />');\n                }\n                overlay.insertBefore(wrapper[0]).toggle(visible).css(ZINDEX, parseInt(wrapper.css(ZINDEX), 10) - 1);\n                return overlay;\n            },\n            _actionForIcon: function (icon) {\n                var iconClass = /\\bk-i-\\w+\\b/.exec(icon[0].className)[0];\n                return {\n                    'k-i-close': '_close',\n                    'k-i-maximize': 'maximize',\n                    'k-i-minimize': 'minimize',\n                    'k-i-restore': 'restore',\n                    'k-i-refresh': 'refresh',\n                    'k-i-pin': 'pin',\n                    'k-i-unpin': 'unpin'\n                }[iconClass];\n            },\n            _windowActionHandler: function (e) {\n                if (this._closing) {\n                    return;\n                }\n                var icon = $(e.target).closest('.k-window-action').find('.k-icon');\n                var action = this._actionForIcon(icon);\n                if (action) {\n                    e.preventDefault();\n                    this[action]();\n                    return false;\n                }\n            },\n            _modals: function () {\n                var that = this;\n                var zStack = $(KWINDOW).filter(function () {\n                    var dom = $(this);\n                    var object = that._object(dom);\n                    var options = object && object.options;\n                    return options && options.modal && options.visible && options.appendTo === that.options.appendTo && dom.is(VISIBLE);\n                }).sort(function (a, b) {\n                    return +$(a).css('zIndex') - +$(b).css('zIndex');\n                });\n                that = null;\n                return zStack;\n            },\n            _object: function (element) {\n                var content = element.children(KWINDOWCONTENT);\n                var widget = kendo.widgetInstance(content);\n                if (widget instanceof Window) {\n                    return widget;\n                }\n                return undefined;\n            },\n            center: function () {\n                var that = this, position = that.options.position, wrapper = that.wrapper, documentWindow = $(window), scrollTop = 0, scrollLeft = 0, newTop, newLeft;\n                if (that.options.isMaximized) {\n                    return that;\n                }\n                if (!that.options.pinned) {\n                    scrollTop = documentWindow.scrollTop();\n                    scrollLeft = documentWindow.scrollLeft();\n                }\n                newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.width()) / 2);\n                newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.height() - parseInt(wrapper.css('paddingTop'), 10)) / 2);\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n                position.top = newTop;\n                position.left = newLeft;\n                return that;\n            },\n            title: function (text) {\n                var that = this, wrapper = that.wrapper, options = that.options, titleBar = wrapper.children(KWINDOWTITLEBAR), title = titleBar.children(KWINDOWTITLE), titleBarHeight;\n                if (!arguments.length) {\n                    return title.html();\n                }\n                if (text === false) {\n                    wrapper.addClass('k-window-titleless');\n                    titleBar.remove();\n                } else {\n                    if (!titleBar.length) {\n                        wrapper.prepend(templates.titlebar(options));\n                        that._actions();\n                        titleBar = wrapper.children(KWINDOWTITLEBAR);\n                    } else {\n                        title.html(text);\n                    }\n                    titleBarHeight = titleBar.outerHeight();\n                    wrapper.css('padding-top', titleBarHeight);\n                    titleBar.css('margin-top', -titleBarHeight);\n                }\n                that.options.title = text;\n                return that;\n            },\n            content: function (html, data) {\n                var content = this.wrapper.children(KWINDOWCONTENT), scrollContainer = content.children('.km-scroll-container');\n                content = scrollContainer[0] ? scrollContainer : content;\n                if (!defined(html)) {\n                    return content.html();\n                }\n                this.angular('cleanup', function () {\n                    return { elements: content.children() };\n                });\n                kendo.destroy(this.element.children());\n                content.empty().html(html);\n                this.angular('compile', function () {\n                    var a = [];\n                    for (var i = content.length; --i >= 0;) {\n                        a.push({ dataItem: data });\n                    }\n                    return {\n                        elements: content.children(),\n                        data: a\n                    };\n                });\n                return this;\n            },\n            open: function () {\n                var that = this, wrapper = that.wrapper, options = that.options, showOptions = this._animationOptions('open'), contentElement = wrapper.children(KWINDOWCONTENT), overlay, otherModalsVisible, doc = $(document);\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n                    that._closing = false;\n                    that.toFront();\n                    if (options.autoFocus) {\n                        that.element.focus();\n                    }\n                    options.visible = true;\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n                        overlay.kendoStop(true, true);\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css('opacity', 0.5);\n                        }\n                        overlay.show();\n                    }\n                    if (!wrapper.is(VISIBLE)) {\n                        contentElement.css(OVERFLOW, HIDDEN);\n                        wrapper.show().kendoStop().kendoAnimate({\n                            effects: showOptions.effects,\n                            duration: showOptions.duration,\n                            complete: proxy(this._activate, this)\n                        });\n                    }\n                }\n                if (options.isMaximized) {\n                    that._documentScrollTop = doc.scrollTop();\n                    that._documentScrollLeft = doc.scrollLeft();\n                    $('html, body').css(OVERFLOW, HIDDEN);\n                }\n                return that;\n            },\n            _activate: function () {\n                var scrollable = this.options.scrollable !== false;\n                if (this.options.autoFocus) {\n                    this.element.focus();\n                }\n                this.element.css(OVERFLOW, scrollable ? '' : 'hidden');\n                kendo.resize(this.element.children());\n                this.trigger(ACTIVATE);\n            },\n            _removeOverlay: function (suppressAnimation) {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n                var overlay = options.modal ? this._overlay(true) : $(undefined);\n                var hideOptions = this._animationOptions('close');\n                if (hideOverlay) {\n                    if (!suppressAnimation && hideOptions.duration && kendo.effects.Fade) {\n                        var overlayFx = kendo.fx(overlay).fadeOut();\n                        overlayFx.duration(hideOptions.duration || 0);\n                        overlayFx.startValue(0.5);\n                        overlayFx.play();\n                    } else {\n                        this._overlay(false).remove();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n                }\n            },\n            _close: function (systemTriggered) {\n                var that = this, wrapper = that.wrapper, options = that.options, showOptions = this._animationOptions('open'), hideOptions = this._animationOptions('close'), doc = $(document);\n                if (wrapper.is(VISIBLE) && !that.trigger(CLOSE, { userTriggered: !systemTriggered })) {\n                    if (that._closing) {\n                        return;\n                    }\n                    that._closing = true;\n                    options.visible = false;\n                    $(KWINDOW).each(function (i, element) {\n                        var contentElement = $(element).children(KWINDOWCONTENT);\n                        if (element != wrapper && contentElement.find('> .' + KCONTENTFRAME).length > 0) {\n                            contentElement.children(KOVERLAY).remove();\n                        }\n                    });\n                    this._removeOverlay();\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: proxy(this._deactivate, this)\n                    });\n                }\n                if (that.options.isMaximized) {\n                    $('html, body').css(OVERFLOW, '');\n                    if (that._documentScrollTop && that._documentScrollTop > 0) {\n                        doc.scrollTop(that._documentScrollTop);\n                    }\n                    if (that._documentScrollLeft && that._documentScrollLeft > 0) {\n                        doc.scrollLeft(that._documentScrollLeft);\n                    }\n                }\n            },\n            _deactivate: function () {\n                var that = this;\n                that.wrapper.hide().css('opacity', '');\n                that.trigger(DEACTIVATE);\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n            close: function () {\n                this._close(true);\n                return this;\n            },\n            _actionable: function (element) {\n                return $(element).is(TITLEBAR_BUTTONS + ',' + TITLEBAR_BUTTONS + ' .k-icon,:input,a');\n            },\n            _shouldFocus: function (target) {\n                var active = activeElement(), element = this.element;\n                return this.options.autoFocus && !$(active).is(element) && !this._actionable(target) && (!element.find(active).length || !element.find(target).length);\n            },\n            toFront: function (e) {\n                var that = this, wrapper = that.wrapper, currentWindow = wrapper[0], zIndex = +wrapper.css(ZINDEX), originalZIndex = zIndex, target = e && e.target || null;\n                $(KWINDOW).each(function (i, element) {\n                    var windowObject = $(element), zIndexNew = windowObject.css(ZINDEX), contentElement = windowObject.children(KWINDOWCONTENT);\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n                    if (element != currentWindow && contentElement.find('> .' + KCONTENTFRAME).length > 0) {\n                        contentElement.append(templates.overlay);\n                    }\n                });\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n                that.element.find('> .k-overlay').remove();\n                if (that._shouldFocus(target)) {\n                    that.element.focus();\n                    var scrollTop = $(window).scrollTop(), windowTop = parseInt(wrapper.position().top, 10);\n                    if (!that.options.pinned && windowTop > 0 && windowTop < scrollTop) {\n                        if (scrollTop > 0) {\n                            $(window).scrollTop(windowTop);\n                        } else {\n                            wrapper.css('top', scrollTop);\n                        }\n                    }\n                }\n                wrapper = null;\n                return that;\n            },\n            toggleMaximization: function () {\n                if (this._closing) {\n                    return this;\n                }\n                return this[this.options.isMaximized ? 'restore' : 'maximize']();\n            },\n            restore: function () {\n                var that = this;\n                var options = that.options;\n                var minHeight = options.minHeight;\n                var restoreOptions = that.restoreOptions;\n                var doc = $(document);\n                if (!options.isMaximized && !options.isMinimized) {\n                    return that;\n                }\n                if (minHeight && minHeight != Infinity) {\n                    that.wrapper.css('min-height', minHeight);\n                }\n                that.wrapper.css({\n                    position: options.pinned ? 'fixed' : 'absolute',\n                    left: restoreOptions.left,\n                    top: restoreOptions.top,\n                    width: restoreOptions.width,\n                    height: restoreOptions.height\n                }).removeClass(MAXIMIZEDSTATE).find('.k-window-content,.k-resize-handle').show().end().find('.k-window-titlebar .k-i-restore').parent().remove().end().end().find(MINIMIZE_MAXIMIZE).parent().show().end().end().find(PIN_UNPIN).parent().show();\n                that.options.width = restoreOptions.width;\n                that.options.height = restoreOptions.height;\n                $('html, body').css(OVERFLOW, '');\n                if (this._documentScrollTop && this._documentScrollTop > 0) {\n                    doc.scrollTop(this._documentScrollTop);\n                }\n                if (this._documentScrollLeft && this._documentScrollLeft > 0) {\n                    doc.scrollLeft(this._documentScrollLeft);\n                }\n                options.isMaximized = options.isMinimized = false;\n                that.resize();\n                return that;\n            },\n            _sizingAction: function (actionId, callback) {\n                var that = this, wrapper = that.wrapper, style = wrapper[0].style, options = that.options;\n                if (options.isMaximized || options.isMinimized) {\n                    return that;\n                }\n                that.restoreOptions = {\n                    width: style.width,\n                    height: style.height\n                };\n                wrapper.children(KWINDOWRESIZEHANDLES).hide().end().children(KWINDOWTITLEBAR).find(MINIMIZE_MAXIMIZE).parent().hide().eq(0).before(templates.action({ name: 'Restore' }));\n                callback.call(that);\n                that.wrapper.children(KWINDOWTITLEBAR).find(PIN_UNPIN).parent().toggle(actionId !== 'maximize');\n                that.trigger(actionId);\n                return that;\n            },\n            maximize: function () {\n                this._sizingAction('maximize', function () {\n                    var that = this, wrapper = that.wrapper, position = wrapper.position(), doc = $(document);\n                    extend(that.restoreOptions, {\n                        left: position.left,\n                        top: position.top\n                    });\n                    wrapper.css({\n                        left: 0,\n                        top: 0,\n                        position: 'fixed'\n                    }).addClass(MAXIMIZEDSTATE);\n                    this._documentScrollTop = doc.scrollTop();\n                    this._documentScrollLeft = doc.scrollLeft();\n                    $('html, body').css(OVERFLOW, HIDDEN);\n                    that.options.isMaximized = true;\n                    that._onDocumentResize();\n                });\n                return this;\n            },\n            isMaximized: function () {\n                return this.options.isMaximized;\n            },\n            minimize: function () {\n                this._sizingAction('minimize', function () {\n                    var that = this;\n                    that.wrapper.css({\n                        height: '',\n                        minHeight: ''\n                    });\n                    that.element.hide();\n                    that.options.isMinimized = true;\n                });\n                return this;\n            },\n            isMinimized: function () {\n                return this.options.isMinimized;\n            },\n            pin: function (force) {\n                var that = this, win = $(window), wrapper = that.wrapper, top = parseInt(wrapper.css('top'), 10), left = parseInt(wrapper.css('left'), 10);\n                if (force || !that.options.pinned && !that.options.isMaximized) {\n                    wrapper.css({\n                        position: 'fixed',\n                        top: top - win.scrollTop(),\n                        left: left - win.scrollLeft()\n                    });\n                    wrapper.children(KWINDOWTITLEBAR).find(KPIN).addClass('k-i-unpin').removeClass('k-i-pin');\n                    that.options.pinned = true;\n                }\n            },\n            unpin: function () {\n                var that = this, win = $(window), wrapper = that.wrapper, top = parseInt(wrapper.css('top'), 10), left = parseInt(wrapper.css('left'), 10);\n                if (that.options.pinned && !that.options.isMaximized) {\n                    wrapper.css({\n                        position: '',\n                        top: top + win.scrollTop(),\n                        left: left + win.scrollLeft()\n                    });\n                    wrapper.children(KWINDOWTITLEBAR).find(KUNPIN).addClass('k-i-pin').removeClass('k-i-unpin');\n                    that.options.pinned = false;\n                }\n            },\n            _onDocumentResize: function () {\n                var that = this, wrapper = that.wrapper, wnd = $(window), zoomLevel = kendo.support.zoomLevel(), w, h;\n                if (!that.options.isMaximized) {\n                    return;\n                }\n                w = wnd.width() / zoomLevel;\n                h = wnd.height() / zoomLevel - parseInt(wrapper.css('padding-top'), 10);\n                wrapper.css({\n                    width: w,\n                    height: h\n                });\n                that.options.width = w;\n                that.options.height = h;\n                that.resize();\n            },\n            refresh: function (options) {\n                var that = this, initOptions = that.options, element = $(that.element), iframe, showIframe, url;\n                if (!isPlainObject(options)) {\n                    options = { url: options };\n                }\n                options = extend({}, initOptions.content, options);\n                showIframe = defined(initOptions.iframe) ? initOptions.iframe : options.iframe;\n                url = options.url;\n                if (url) {\n                    if (!defined(showIframe)) {\n                        showIframe = !isLocalUrl(url);\n                    }\n                    if (!showIframe) {\n                        that._ajaxRequest(options);\n                    } else {\n                        iframe = element.find('.' + KCONTENTFRAME)[0];\n                        if (iframe) {\n                            iframe.src = url || iframe.src;\n                        } else {\n                            element.html(templates.contentFrame(extend({}, initOptions, { content: options })));\n                        }\n                        element.find('.' + KCONTENTFRAME).unbind('load' + NS).on('load' + NS, proxy(this._triggerRefresh, this));\n                    }\n                } else {\n                    if (options.template) {\n                        that.content(template(options.template)({}));\n                    }\n                    that.trigger(REFRESH);\n                }\n                element.toggleClass('k-window-iframecontent', !!showIframe);\n                return that;\n            },\n            _triggerRefresh: function () {\n                this.trigger(REFRESH);\n            },\n            _ajaxComplete: function () {\n                clearTimeout(this._loadingIconTimeout);\n                this.wrapper.find(REFRESHICON).removeClass(LOADING);\n            },\n            _ajaxError: function (xhr, status) {\n                this.trigger(ERROR, {\n                    status: status,\n                    xhr: xhr\n                });\n            },\n            _ajaxSuccess: function (contentTemplate) {\n                return function (data) {\n                    var html = data;\n                    if (contentTemplate) {\n                        html = template(contentTemplate)(data || {});\n                    }\n                    this.content(html, data);\n                    this.element.prop('scrollTop', 0);\n                    this.trigger(REFRESH);\n                };\n            },\n            _showLoading: function () {\n                this.wrapper.find(REFRESHICON).addClass(LOADING);\n            },\n            _ajaxRequest: function (options) {\n                this._loadingIconTimeout = setTimeout(proxy(this._showLoading, this), 100);\n                $.ajax(extend({\n                    type: 'GET',\n                    dataType: 'html',\n                    cache: false,\n                    error: proxy(this._ajaxError, this),\n                    complete: proxy(this._ajaxComplete, this),\n                    success: proxy(this._ajaxSuccess(options.template), this)\n                }, options));\n            },\n            _destroy: function () {\n                if (this.resizing) {\n                    this.resizing.destroy();\n                }\n                if (this.dragging) {\n                    this.dragging.destroy();\n                }\n                this.wrapper.off(NS).children(KWINDOWCONTENT).off(NS).end().find('.k-resize-handle,.k-window-titlebar').off(NS);\n                $(window).off('resize' + NS + this._marker);\n                clearTimeout(this._loadingIconTimeout);\n                Widget.fn.destroy.call(this);\n                this.unbind(undefined);\n                kendo.destroy(this.wrapper);\n                this._removeOverlay(true);\n            },\n            destroy: function () {\n                this._destroy();\n                this.wrapper.empty().remove();\n                this.wrapper = this.appendTo = this.element = $();\n            },\n            _createWindow: function () {\n                var contentHtml = this.element, options = this.options, iframeSrcAttributes, wrapper, isRtl = kendo.support.isRtl(contentHtml);\n                if (options.scrollable === false) {\n                    contentHtml.css('overflow', 'hidden');\n                }\n                wrapper = $(templates.wrapper(options));\n                iframeSrcAttributes = contentHtml.find('iframe:not(.k-content)').map(function () {\n                    var src = this.getAttribute('src');\n                    this.src = '';\n                    return src;\n                });\n                wrapper.toggleClass('k-rtl', isRtl).appendTo(this.appendTo).append(contentHtml).find('iframe:not(.k-content)').each(function (index) {\n                    this.src = iframeSrcAttributes[index];\n                });\n                wrapper.find('.k-window-title').css(isRtl ? 'left' : 'right', wrapper.find('.k-window-actions').outerWidth() + 10);\n                contentHtml.css('visibility', '').show();\n                contentHtml.find('[data-role=editor]').each(function () {\n                    var editor = $(this).data('kendoEditor');\n                    if (editor) {\n                        editor.refresh();\n                    }\n                });\n                wrapper = contentHtml = null;\n            }\n        });\n        templates = {\n            wrapper: template('<div class=\\'k-widget k-window\\' />'),\n            action: template('<a role=\\'button\\' href=\\'\\\\#\\' class=\\'k-window-action k-link\\' aria-label=\\'#= name #\\'>' + '<span class=\\'k-icon k-i-#= name.toLowerCase() #\\'></span>' + '</a>'),\n            titlebar: template('<div class=\\'k-window-titlebar k-header\\'>&nbsp;' + '<span class=\\'k-window-title\\'>#= title #</span>' + '<div class=\\'k-window-actions\\' />' + '</div>'),\n            overlay: '<div class=\\'k-overlay\\' />',\n            contentFrame: template('<iframe frameborder=\\'0\\' title=\\'#= title #\\' class=\\'' + KCONTENTFRAME + '\\' ' + 'src=\\'#= content.url #\\'>' + 'This page requires frames in order to show content' + '</iframe>'),\n            resizeHandle: template('<div class=\\'k-resize-handle k-resize-#= data #\\'></div>')\n        };\n        function WindowResizing(wnd) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: '>' + KWINDOWRESIZEHANDLES,\n                group: wnd.wrapper.id + '-resizing',\n                dragstart: proxy(that.dragstart, that),\n                drag: proxy(that.drag, that),\n                dragend: proxy(that.dragend, that)\n            });\n            that._draggable.userEvents.bind('press', proxy(that.addOverlay, that));\n            that._draggable.userEvents.bind('release', proxy(that.removeOverlay, that));\n        }\n        WindowResizing.prototype = {\n            addOverlay: function () {\n                this.owner.wrapper.append(templates.overlay);\n            },\n            removeOverlay: function () {\n                this.owner.wrapper.find(KOVERLAY).remove();\n            },\n            dragstart: function (e) {\n                var that = this;\n                var wnd = that.owner;\n                var wrapper = wnd.wrapper;\n                that._preventDragging = wnd.trigger(RESIZESTART);\n                if (that._preventDragging) {\n                    return;\n                }\n                that.elementPadding = parseInt(wrapper.css('padding-top'), 10);\n                that.initialPosition = kendo.getOffset(wrapper, 'position');\n                that.resizeDirection = e.currentTarget.prop('className').replace('k-resize-handle k-resize-', '');\n                that.initialSize = {\n                    width: wrapper.width(),\n                    height: wrapper.height()\n                };\n                that.containerOffset = kendo.getOffset(wnd.appendTo, 'position');\n                wrapper.children(KWINDOWRESIZEHANDLES).not(e.currentTarget).hide();\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this, wnd = that.owner, wrapper = wnd.wrapper, options = wnd.options, direction = that.resizeDirection, containerOffset = that.containerOffset, initialPosition = that.initialPosition, initialSize = that.initialSize, newWidth, newHeight, windowBottom, windowRight, x = Math.max(e.x.location, 0), y = Math.max(e.y.location, 0);\n                if (direction.indexOf('e') >= 0) {\n                    newWidth = x - initialPosition.left - containerOffset.left;\n                    wrapper.width(constrain(newWidth, options.minWidth, options.maxWidth));\n                } else if (direction.indexOf('w') >= 0) {\n                    windowRight = initialPosition.left + initialSize.width + containerOffset.left;\n                    newWidth = constrain(windowRight - x, options.minWidth, options.maxWidth);\n                    wrapper.css({\n                        left: windowRight - newWidth - containerOffset.left,\n                        width: newWidth\n                    });\n                }\n                var newWindowTop = y;\n                if (wnd.options.pinned) {\n                    newWindowTop -= $(window).scrollTop();\n                }\n                if (direction.indexOf('s') >= 0) {\n                    newHeight = newWindowTop - initialPosition.top - that.elementPadding - containerOffset.top;\n                    wrapper.height(constrain(newHeight, options.minHeight, options.maxHeight));\n                } else if (direction.indexOf('n') >= 0) {\n                    windowBottom = initialPosition.top + initialSize.height + containerOffset.top;\n                    newHeight = constrain(windowBottom - newWindowTop, options.minHeight, options.maxHeight);\n                    wrapper.css({\n                        top: windowBottom - newHeight - containerOffset.top,\n                        height: newHeight\n                    });\n                }\n                if (newWidth) {\n                    wnd.options.width = newWidth + 'px';\n                }\n                if (newHeight) {\n                    wnd.options.height = newHeight + 'px';\n                }\n                wnd.resize();\n            },\n            dragend: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this, wnd = that.owner, wrapper = wnd.wrapper;\n                wrapper.children(KWINDOWRESIZEHANDLES).not(e.currentTarget).show();\n                $(BODY).css(CURSOR, '');\n                if (wnd.touchScroller) {\n                    wnd.touchScroller.reset();\n                }\n                if (e.keyCode == 27) {\n                    wrapper.css(that.initialPosition).css(that.initialSize);\n                }\n                wnd.trigger(RESIZEEND);\n                return false;\n            },\n            destroy: function () {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n                this._draggable = this.owner = null;\n            }\n        };\n        function WindowDragging(wnd, dragHandle) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: dragHandle,\n                group: wnd.wrapper.id + '-moving',\n                dragstart: proxy(that.dragstart, that),\n                drag: proxy(that.drag, that),\n                dragend: proxy(that.dragend, that),\n                dragcancel: proxy(that.dragcancel, that)\n            });\n            that._draggable.userEvents.stopPropagation = false;\n        }\n        WindowDragging.prototype = {\n            dragstart: function (e) {\n                var wnd = this.owner, element = wnd.element, actions = element.find('.k-window-actions'), containerOffset = kendo.getOffset(wnd.appendTo);\n                this._preventDragging = wnd.trigger(DRAGSTART);\n                if (this._preventDragging) {\n                    return;\n                }\n                wnd.initialWindowPosition = kendo.getOffset(wnd.wrapper, 'position');\n                wnd.initialPointerPosition = {\n                    left: e.x.client,\n                    top: e.y.client\n                };\n                wnd.startPosition = {\n                    left: e.x.client - wnd.initialWindowPosition.left,\n                    top: e.y.client - wnd.initialWindowPosition.top\n                };\n                if (actions.length > 0) {\n                    wnd.minLeftPosition = actions.outerWidth() + parseInt(actions.css('right'), 10) - element.outerWidth();\n                } else {\n                    wnd.minLeftPosition = 20 - element.outerWidth();\n                }\n                wnd.minLeftPosition -= containerOffset.left;\n                wnd.minTopPosition = -containerOffset.top;\n                wnd.wrapper.append(templates.overlay).children(KWINDOWRESIZEHANDLES).hide();\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var wnd = this.owner;\n                var position = wnd.options.position;\n                position.top = Math.max(e.y.client - wnd.startPosition.top, wnd.minTopPosition);\n                position.left = Math.max(e.x.client - wnd.startPosition.left, wnd.minLeftPosition);\n                if (kendo.support.transforms) {\n                    $(wnd.wrapper).css('transform', 'translate(' + (e.x.client - wnd.initialPointerPosition.left) + 'px, ' + (e.y.client - wnd.initialPointerPosition.top) + 'px)');\n                } else {\n                    $(wnd.wrapper).css(position);\n                }\n            },\n            _finishDrag: function () {\n                var wnd = this.owner;\n                wnd.wrapper.children(KWINDOWRESIZEHANDLES).toggle(!wnd.options.isMinimized).end().find(KOVERLAY).remove();\n                $(BODY).css(CURSOR, '');\n            },\n            dragcancel: function (e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                this._finishDrag();\n                e.currentTarget.closest(KWINDOW).css(this.owner.initialWindowPosition);\n            },\n            dragend: function () {\n                if (this._preventDragging) {\n                    return;\n                }\n                $(this.owner.wrapper).css(this.owner.options.position).css('transform', '');\n                this._finishDrag();\n                this.owner.trigger(DRAGEND);\n                return false;\n            },\n            destroy: function () {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n                this._draggable = this.owner = null;\n            }\n        };\n        kendo.ui.plugin(Window);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}